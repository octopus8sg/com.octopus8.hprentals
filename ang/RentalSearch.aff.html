<div class="action-link">
    <a class="button add-rental" href="#">
        <i class="crm-i fa-plus-circle">&nbsp;</i>
        Add Rental
    </a>
</div>
<div af-fieldset="" af-title="Search Rentals">
    <af-field name="id" defn="{label: 'ID', input_attrs: {}}"/>
    <af-field name="admission" defn="{input_type: 'Select', search_range: true, input_attrs: {}}"/>
    <af-field name="discharge" defn="{input_type: 'Select', search_range: true, input_attrs: {}}"/>
    <af-field name="tenant_id.display_name" defn="{label: 'Tenant', input_attrs: {}}"/>
    <crm-search-display-table
            search-name="RentalsO8"
            display-name="All_Rentals_TableO8"
            filters="{'tenant_id.id': options.contact_id}"></crm-search-display-table>
</div>
<script>
    CRM.$(function ($) {
        $("a.add-rental").click(function (event) {
            event.preventDefault();
            var href = CRM.url('civicrm/rentals/rental', 'reset=1&action=add');
            ;
            var $el = CRM.loadForm(href, {
                dialog: {width: '50%', height: '50%'}
            }).on('crmFormSuccess', function () {
                var hm_tab = $('.selector-expenses');
                var hm_table = hm_tab.DataTable();
                hm_table.draw();
            }).close;
        });
    })
</script>